<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Charts Showcase - RPI Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            overflow-x: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%);
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid #444;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .header h1 {
            font-size: 2.5em;
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0,0,0,0.8);
            background: linear-gradient(45deg, #FFD700, #FFA500, #FF6347);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .showcase-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
            gap: 30px;
            padding: 30px;
            max-width: 1600px;
            margin: 0 auto;
        }

        .chart-card {
            background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%);
            border: 2px solid #444;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.4);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .chart-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s;
        }

        .chart-card:hover::before {
            left: 100%;
        }

        .chart-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.6);
            border-color: #FFD700;
        }

        .chart-title {
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
            color: #FFD700;
            text-shadow: 0 1px 2px rgba(0,0,0,0.8);
        }

        .chart-description {
            font-size: 1em;
            color: #ccc;
            margin-bottom: 20px;
            text-align: center;
            line-height: 1.4;
        }

        .tech-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(45deg, #00FF00, #00CC00);
            color: #000;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            z-index: 10;
        }

        .chart-container {
            position: relative;
            height: 350px;
            width: 100%;
            background: rgba(0,0,0,0.3);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .chart-container canvas {
            width: 100% !important;
            height: 100% !important;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .control-btn {
            background: linear-gradient(135deg, #444, #666);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .control-btn:hover {
            background: linear-gradient(135deg, #666, #888);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .control-btn.active {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
        }

        .home-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            text-decoration: none;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .home-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
        }

        /* CSS-only animated chart */
        .css-chart {
            position: relative;
            height: 100%;
            display: flex;
            align-items: end;
            justify-content: space-around;
            padding: 20px 0;
        }

        .css-bar {
            width: 40px;
            background: linear-gradient(to top, #FFD700, #FFA500);
            border-radius: 4px 4px 0 0;
            position: relative;
            animation: growBar 2s ease-out forwards;
        }

        .css-bar:nth-child(1) { animation-delay: 0s; }
        .css-bar:nth-child(2) { animation-delay: 0.2s; }
        .css-bar:nth-child(3) { animation-delay: 0.4s; }
        .css-bar:nth-child(4) { animation-delay: 0.6s; }
        .css-bar:nth-child(5) { animation-delay: 0.8s; }

        @keyframes growBar {
            from { height: 0; }
            to { height: var(--height); }
        }

        /* 3D Chart Container */
        .three-d-container {
            perspective: 1000px;
            height: 100%;
        }

        .three-d-chart {
            transform-style: preserve-3d;
            animation: rotate3D 20s infinite linear;
        }

        @keyframes rotate3D {
            0% { transform: rotateY(0deg) rotateX(20deg); }
            100% { transform: rotateY(360deg) rotateX(20deg); }
        }

        /* Particle System */
        .particle-container {
            position: relative;
            height: 100%;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #FFD700;
            border-radius: 50%;
            animation: float 3s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 1; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 0.7; }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .showcase-container {
                grid-template-columns: 1fr;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .chart-card {
                padding: 20px;
            }
            
            .chart-container {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <a href="../index.html" class="home-button">‚Üê Home</a>
    
    <div class="header">
        <h1>Advanced Charts Showcase</h1>
        <p>Demonstrating Multiple Chart Technologies & Animations on Raspberry Pi</p>
    </div>

    <div class="showcase-container">
        <!-- Chart.js Advanced Charts -->
        <div class="chart-card">
            <div class="tech-badge">Chart.js</div>
            <h3 class="chart-title">Advanced Chart.js Visualizations</h3>
            <p class="chart-description">Complex multi-axis charts with real-time animations and interactions</p>
            <div class="chart-container">
                <canvas id="advancedChart"></canvas>
            </div>
            <div class="controls">
                <button class="control-btn active" onclick="updateAdvancedChart('line')">Line Chart</button>
                <button class="control-btn" onclick="updateAdvancedChart('radar')">Radar Chart</button>
                <button class="control-btn" onclick="updateAdvancedChart('polar')">Polar Area</button>
                <button class="control-btn" onclick="updateAdvancedChart('doughnut')">Doughnut</button>
            </div>
        </div>

        <!-- CSS-only Animated Chart -->
        <div class="chart-card">
            <div class="tech-badge">Pure CSS</div>
            <h3 class="chart-title">CSS-Only Animated Chart</h3>
            <p class="chart-description">Pure CSS animations with no JavaScript - lightweight and performant</p>
            <div class="chart-container">
                <div class="css-chart">
                    <div class="css-bar" style="--height: 60%"></div>
                    <div class="css-bar" style="--height: 80%"></div>
                    <div class="css-bar" style="--height: 45%"></div>
                    <div class="css-bar" style="--height: 95%"></div>
                    <div class="css-bar" style="--height: 70%"></div>
                </div>
            </div>
            <div class="controls">
                <button class="control-btn" onclick="resetCSSChart()">Reset Animation</button>
                <button class="control-btn" onclick="addCSSBar()">Add Bar</button>
            </div>
        </div>

        <!-- 3D Chart with Three.js -->
        <div class="chart-card">
            <div class="tech-badge">Three.js 3D</div>
            <h3 class="chart-title">3D Interactive Chart</h3>
            <p class="chart-description">Three-dimensional data visualization with WebGL rendering</p>
            <div class="chart-container">
                <div class="three-d-container">
                    <div class="three-d-chart" id="threeDChart">
                        <!-- 3D chart will be rendered here -->
                    </div>
                </div>
            </div>
            <div class="controls">
                <button class="control-btn" onclick="toggle3DRotation()">Toggle Rotation</button>
                <button class="control-btn" onclick="change3DView()">Change View</button>
            </div>
        </div>

        <!-- Particle System Chart -->
        <div class="chart-card">
            <div class="tech-badge">Particles</div>
            <h3 class="chart-title">Particle System Visualization</h3>
            <p class="chart-description">Dynamic particle-based data representation with physics</p>
            <div class="chart-container">
                <div class="particle-container" id="particleContainer">
                    <!-- Particles will be generated here -->
                </div>
            </div>
            <div class="controls">
                <button class="control-btn" onclick="toggleParticles()">Toggle Particles</button>
                <button class="control-btn" onclick="changeParticleSpeed()">Change Speed</button>
            </div>
        </div>

        <!-- D3.js Force-Directed Graph -->
        <div class="chart-card">
            <div class="tech-badge">D3.js</div>
            <h3 class="chart-title">Force-Directed Network Graph</h3>
            <p class="chart-description">Interactive network visualization with physics simulation</p>
            <div class="chart-container">
                <svg id="d3Chart" width="100%" height="100%"></svg>
            </div>
            <div class="controls">
                <button class="control-btn" onclick="updateD3Graph()">Update Graph</button>
                <button class="control-btn" onclick="toggleD3Physics()">Toggle Physics</button>
            </div>
        </div>

        <!-- Canvas-based Custom Chart -->
        <div class="chart-card">
            <div class="tech-badge">Custom Canvas</div>
            <h3 class="chart-title">Custom Canvas Animation</h3>
            <p class="chart-description">Hand-crafted canvas animations with custom drawing algorithms</p>
            <div class="chart-container">
                <canvas id="customCanvas" width="100%" height="100%"></canvas>
            </div>
            <div class="controls">
                <button class="control-btn" onclick="toggleCustomAnimation()">Toggle Animation</button>
                <button class="control-btn" onclick="changeCustomPattern()">Change Pattern</button>
            </div>
        </div>
    </div>

    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script>
        // Global variables
        let advancedChart, d3Simulation, customAnimationId;
        let is3DRotating = true, isParticlesActive = true, isCustomAnimating = true;

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeAdvancedChart();
            initializeD3Graph();
            initializeCustomCanvas();
            initializeParticles();
            initialize3DChart();
        });

        // Advanced Chart.js Chart
        function initializeAdvancedChart() {
            const ctx = document.getElementById('advancedChart').getContext('2d');
            advancedChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Revenue',
                        data: [65, 59, 80, 81, 56, 55],
                        borderColor: '#FFD700',
                        backgroundColor: 'rgba(255, 215, 0, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Profit',
                        data: [28, 48, 40, 19, 86, 27],
                        borderColor: '#00FF00',
                        backgroundColor: 'rgba(0, 255, 0, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    animation: {
                        duration: 2000,
                        easing: 'easeInOutQuart'
                    },
                    plugins: {
                        legend: { labels: { color: '#fff' } }
                    },
                    scales: {
                        x: { ticks: { color: '#fff' } },
                        y: { ticks: { color: '#fff' } }
                    }
                }
            });
        }

        function updateAdvancedChart(type) {
            const data = {
                line: {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Revenue',
                            data: [65, 59, 80, 81, 56, 55],
                            borderColor: '#FFD700',
                            backgroundColor: 'rgba(255, 215, 0, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    }
                },
                radar: {
                    type: 'radar',
                    data: {
                        labels: ['Speed', 'Reliability', 'Comfort', 'Safety', 'Efficiency', 'Durability'],
                        datasets: [{
                            label: 'Performance',
                            data: [85, 90, 75, 95, 80, 88],
                            borderColor: '#FFD700',
                            backgroundColor: 'rgba(255, 215, 0, 0.2)',
                            fill: true
                        }]
                    }
                },
                polar: {
                    type: 'polarArea',
                    data: {
                        labels: ['Red', 'Green', 'Yellow', 'Grey', 'Blue'],
                        datasets: [{
                            label: 'Dataset 1',
                            data: [11, 16, 7, 3, 14],
                            backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF']
                        }]
                    }
                },
                doughnut: {
                    type: 'doughnut',
                    data: {
                        labels: ['Red', 'Green', 'Yellow', 'Grey', 'Blue'],
                        datasets: [{
                            label: 'Dataset 1',
                            data: [12, 19, 3, 5, 2],
                            backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF']
                        }]
                    }
                }
            };

            advancedChart.destroy();
            const ctx = document.getElementById('advancedChart').getContext('2d');
            advancedChart = new Chart(ctx, {
                ...data[type],
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    animation: { duration: 2000, easing: 'easeInOutQuart' },
                    plugins: { legend: { labels: { color: '#fff' } } },
                    scales: type === 'line' ? {
                        x: { ticks: { color: '#fff' } },
                        y: { ticks: { color: '#fff' } }
                    } : {}
                }
            });
        }

        // CSS Chart Functions
        function resetCSSChart() {
            const bars = document.querySelectorAll('.css-bar');
            bars.forEach(bar => {
                bar.style.animation = 'none';
                bar.offsetHeight; // Trigger reflow
                bar.style.animation = null;
            });
        }

        function addCSSBar() {
            const chart = document.querySelector('.css-chart');
            const newBar = document.createElement('div');
            newBar.className = 'css-bar';
            newBar.style.setProperty('--height', Math.random() * 80 + 20 + '%');
            newBar.style.animationDelay = (chart.children.length * 0.2) + 's';
            chart.appendChild(newBar);
        }

        // D3.js Force-Directed Graph
        function initializeD3Graph() {
            const width = document.getElementById('d3Chart').clientWidth;
            const height = document.getElementById('d3Chart').clientHeight;

            const data = {
                nodes: [
                    {id: 1, group: 1, value: 20},
                    {id: 2, group: 1, value: 15},
                    {id: 3, group: 2, value: 25},
                    {id: 4, group: 2, value: 18},
                    {id: 5, group: 3, value: 30}
                ],
                links: [
                    {source: 1, target: 2, value: 1},
                    {source: 2, target: 3, value: 1},
                    {source: 3, target: 4, value: 1},
                    {source: 4, target: 5, value: 1},
                    {source: 5, target: 1, value: 1}
                ]
            };

            const svg = d3.select('#d3Chart');
            svg.selectAll('*').remove();

            const simulation = d3.forceSimulation(data.nodes)
                .force('link', d3.forceLink(data.links).id(d => d.id))
                .force('charge', d3.forceManyBody().strength(-100))
                .force('center', d3.forceCenter(width / 2, height / 2));

            const link = svg.append('g')
                .selectAll('line')
                .data(data.links)
                .enter().append('line')
                .attr('stroke', '#999')
                .attr('stroke-opacity', 0.6)
                .attr('stroke-width', 2);

            const node = svg.append('g')
                .selectAll('circle')
                .data(data.nodes)
                .enter().append('circle')
                .attr('r', d => Math.sqrt(d.value) * 2)
                .attr('fill', d => d3.schemeCategory10[d.group])
                .call(d3.drag()
                    .on('start', dragstarted)
                    .on('drag', dragged)
                    .on('end', dragended));

            simulation.on('tick', () => {
                link
                    .attr('x1', d => d.source.x)
                    .attr('y1', d => d.source.y)
                    .attr('x2', d => d.target.x)
                    .attr('y2', d => d.target.y);

                node
                    .attr('cx', d => d.x)
                    .attr('cy', d => d.y);
            });

            d3Simulation = simulation;

            function dragstarted(event, d) {
                if (!event.active) simulation.alphaTarget(0.3).restart();
                d.fx = d.x;
                d.fy = d.y;
            }

            function dragged(event, d) {
                d.fx = event.x;
                d.fy = event.y;
            }

            function dragended(event, d) {
                if (!event.active) simulation.alphaTarget(0);
                d.fx = null;
                d.fy = null;
            }
        }

        function updateD3Graph() {
            if (d3Simulation) {
                d3Simulation.alpha(1).restart();
            }
        }

        function toggleD3Physics() {
            if (d3Simulation) {
                if (d3Simulation.alpha() > 0) {
                    d3Simulation.stop();
                } else {
                    d3Simulation.alpha(1).restart();
                }
            }
        }

        // Custom Canvas Animation
        function initializeCustomCanvas() {
            const canvas = document.getElementById('customCanvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            let time = 0;
            
            function animate() {
                if (!isCustomAnimating) return;
                
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Create animated pattern
                for (let i = 0; i < 50; i++) {
                    const x = (canvas.width / 50) * i;
                    const y = canvas.height / 2 + Math.sin(time + i * 0.1) * 50;
                    
                    ctx.beginPath();
                    ctx.arc(x, y, 3, 0, Math.PI * 2);
                    ctx.fillStyle = `hsl(${i * 7 + time * 10}, 70%, 60%)`;
                    ctx.fill();
                }
                
                time += 0.02;
                customAnimationId = requestAnimationFrame(animate);
            }
            
            animate();
        }

        function toggleCustomAnimation() {
            isCustomAnimating = !isCustomAnimating;
            if (isCustomAnimating) {
                initializeCustomCanvas();
            } else {
                cancelAnimationFrame(customAnimationId);
            }
        }

        function changeCustomPattern() {
            // This would change the pattern type
            console.log('Pattern changed');
        }

        // Particle System
        function initializeParticles() {
            const container = document.getElementById('particleContainer');
            const particleCount = 50;
            
            for (let i = 0; i < particleCount; i++) {
                createParticle(container);
            }
        }

        function createParticle(container) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 3 + 's';
            particle.style.animationDuration = (Math.random() * 2 + 2) + 's';
            container.appendChild(particle);
        }

        function toggleParticles() {
            isParticlesActive = !isParticlesActive;
            const particles = document.querySelectorAll('.particle');
            particles.forEach(particle => {
                particle.style.animationPlayState = isParticlesActive ? 'running' : 'paused';
            });
        }

        function changeParticleSpeed() {
            const particles = document.querySelectorAll('.particle');
            particles.forEach(particle => {
                const currentDuration = parseFloat(particle.style.animationDuration);
                particle.style.animationDuration = (currentDuration * 0.8) + 's';
            });
        }

        // 3D Chart
        function initialize3DChart() {
            const container = document.getElementById('threeDChart');
            // Simple 3D visualization with CSS transforms
            container.innerHTML = `
                <div style="width: 100px; height: 100px; background: linear-gradient(45deg, #FFD700, #FFA500); 
                     transform: rotateX(45deg) rotateY(45deg); margin: 50px auto; border-radius: 10px;">
                </div>
            `;
        }

        function toggle3DRotation() {
            is3DRotating = !is3DRotating;
            const chart = document.querySelector('.three-d-chart');
            if (is3DRotating) {
                chart.style.animationPlayState = 'running';
            } else {
                chart.style.animationPlayState = 'paused';
            }
        }

        function change3DView() {
            const chart = document.querySelector('.three-d-chart');
            const currentRotation = chart.style.transform || 'rotateY(0deg) rotateX(20deg)';
            if (currentRotation.includes('rotateY(0deg)')) {
                chart.style.transform = 'rotateY(180deg) rotateX(60deg)';
            } else {
                chart.style.transform = 'rotateY(0deg) rotateX(20deg)';
            }
        }

        // Window resize handler
        window.addEventListener('resize', function() {
            if (advancedChart) {
                advancedChart.resize();
            }
            initializeCustomCanvas();
        });
    </script>
</body>
</html>
